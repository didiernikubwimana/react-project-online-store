{"ast":null,"code":"var _jsxFileName = \"/Users/didier/Downloads/Projet/project/react-project-online-store/src/components/ProductManager/ProductManagerComp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { APIConfig } from \"../../store/API-Config\";\nimport store from \"../../store/store\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductManager = () => {\n  _s();\n\n  const APIs = useContext(APIConfig);\n  const [products, setProducts] = useState([]);\n  const state = store.getState();\n  const headers = {\n    'Access-Control-Allow-Origin': '*',\n    'Authorization': 'Bearer ' + state.oAuthToken\n  };\n\n  const deleteHandler = product => {\n    axios.delete(APIs.productAPI + \"/\" + product.id, {\n      headers\n    }).then(response => {\n      if (response.data === true) {\n        loadData();\n      }\n    }).catch(error => {\n      alert(\"Can not delete product!\");\n    });\n  };\n\n  const loadData = () => {\n    axios(APIs.userAPI + \"/mysellerinfo\", {\n      headers\n    }).then(response => {\n      axios(APIs.sellerAPI + \"/\" + response.data.id + \"/products\", {\n        headers\n      }).then(response => {\n        const info = JSON.stringify(response.data);\n        setProducts(response.data);\n      }).catch(error => {\n        alert(error.message);\n      });\n    }).catch(error => {\n      alert(error.message);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Product Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/newproduct\",\n      children: \"Add Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"PRODUCER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"COLOR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NUM IN STOCK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"SIZE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"PRICE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ACTIONS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: products && products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.producer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.quantityInStock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.size\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/editproduct/\" + product.id,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"small\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"small\",\n              onClick: () => deleteHandler(product),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 23\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, this);\n};\n\n_s(ProductManager, \"hMhF4ToE0sDOeSJbXJGEGEgL2V4=\");\n\n_c = ProductManager;\nexport default ProductManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductManager\");","map":{"version":3,"sources":["/Users/didier/Downloads/Projet/project/react-project-online-store/src/components/ProductManager/ProductManagerComp.js"],"names":["React","useContext","useEffect","useState","APIConfig","store","axios","Link","ProductManager","APIs","products","setProducts","state","getState","headers","oAuthToken","deleteHandler","product","delete","productAPI","id","then","response","data","loadData","catch","error","alert","userAPI","sellerAPI","info","JSON","stringify","message","map","productName","producer","color","quantityInStock","size","price"],"mappings":"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","sourcesContent":["\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {APIConfig} from \"../../store/API-Config\";\nimport store from \"../../store/store\";\nimport axios from \"axios\";\nimport {Link} from \"react-router-dom\";\n\nconst  ProductManager = ()=>{\n    const APIs = useContext(APIConfig);\n    const [products,setProducts] = useState([]);\n    const state = store.getState();\n    const headers = {\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': 'Bearer ' + state.oAuthToken,\n    }\n    const deleteHandler = (product) => {\n        axios.delete(APIs.productAPI + \"/\" + product.id , {headers})\n            .then(response => {\n                if(response.data === true){\n                    loadData();\n                }\n            }).catch(error => {\n                alert(\"Can not delete product!\");\n        })\n    };\n\n    const loadData = ()=>{\n        axios(APIs.userAPI + \"/mysellerinfo\",{headers})\n            .then(response =>{\n                axios(APIs.sellerAPI + \"/\" + response.data.id + \"/products\"  ,{headers})\n                    .then(response=>{\n                        const info = JSON.stringify(response.data);\n                        setProducts(response.data);\n                    }).catch(error => {\n                    alert(error.message);\n                })\n            }).catch(error => {\n            alert(error.message);\n        })\n\n    }\n    useEffect(()=>{\n        loadData();\n    },[]);\n    return (\n      <div>\n          <h1>Product Manager</h1>\n          <Link to=\"/newproduct\">Add Product</Link>\n          <table className=\"table\">\n              <thead>\n              <tr>\n                  <th>ID</th>\n                  <th>NAME</th>\n                  <th>PRODUCER</th>\n                  <th>COLOR</th>\n                  <th>NUM IN STOCK</th>\n                  <th>SIZE</th>\n                  <th>PRICE</th>\n                  <th>ACTIONS</th>\n              </tr>\n              </thead>\n              <tbody>\n              {products && products.map((product) => (\n                  <tr key={product.id}>\n                      <td>{product.id}</td>\n                      <td>{product.productName}</td>\n                      <td>{product.producer}</td>\n                      <td>{product.color}</td>\n                      <td>{product.quantityInStock}</td>\n                      <td>{product.size}</td>\n                      <td>{product.price}</td>\n                      <td>\n                          <Link to={\"/editproduct/\"+product.id} >\n                              <button\n                                  type=\"button\"\n                                  className=\"small\"\n                              >\n                                  Edit\n                              </button>\n                          </Link>\n                          <button\n                              type=\"button\"\n                              className=\"small\"\n                              onClick={() => deleteHandler(product)}\n                          >\n                              Delete\n                          </button>\n                      </td>\n                  </tr>\n              ))}\n              </tbody>\n          </table>\n      </div>\n    );\n}\n\nexport  default  ProductManager;"]},"metadata":{},"sourceType":"module"}